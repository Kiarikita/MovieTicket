@model IEnumerable<Movie>

@{
    ViewData["Title"] = "List of Movies";
}
<link href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<script src="//netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
<script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
<link rel='stylesheet prefetch' href='https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css'>
<link rel='stylesheet prefetch' href='https://fonts.googleapis.com/icon?family=Material+Icons'>

<style class="cp-pen-styles">
      @@import url("https://fonts.googleapis.com/css?family=Arimo:400,700");

      body {
          height: 100%;
          width: 100%;
          background: #e9e9e9;
          font-family: 'Arimo', Arial, sans-serif;
          font-weight: 400;
          font-size: 14px;
          color: #010b26;
      }

      * {
          -webkit-transition: 300ms;
          transition: 300ms;
      }

      .intro {
          text-align: center;
      }

      ul {
          list-style-type: none;
      }

      h1, h2, h3, h4, h5, p {
          font-weight: 400;
      }

      a {
          text-decoration: none;
          color: inherit;
      }

          a:hover {
              color: #6ABCEA;
          }

      .container {
          display: -webkit-box;
          display: -ms-flexbox;
          display: flex;
          -ms-flex-wrap: wrap;
          flex-wrap: wrap;
          max-width: 100%;
          margin-top: 10vh;
          margin-left: auto;
          margin-right: auto;
          -webkit-box-pack: center;
          -ms-flex-pack: center;
          justify-content: center;
      }

      .movie-card {
          background: #ffffff;
          box-shadow: 0px 6px 18px rgba(0, 0, 0, 0.1);
          width: 100%;
          max-width: 315px;
          margin: 2em;
          border-radius: 10px;
          display: inline-block;
      }

      .movie-header {
          padding: 0;
          margin: 0;
          height: 367px;
          width: 335px;
          display: block;
          border-top-left-radius: 10px;
          border-top-right-radius: 10px;
      }

      img {
          margin: 0;
          max-width: 100%;
          max-height: 100%;
          width: 315px;
          display: block; /* remove extra space below image */
          object-fit: contain;
          background-size: cover;
      }

          img:hover {
              /*background: rgba(0, 0, 0, 0.15);
    font-size: 74px;
    text-shadow: 0px 0px 20px #6abcea, 0px 5px 30px #6ABCEA;*/
              border-top-left-radius: 10px;
              border-top-right-radius: 10px;
              opacity: 1;
          }

      .movie-card:hover {
          -webkit-transform: scale(1.03);
          transform: scale(1.03);
          box-shadow: 0px 10px 25px rgba(0, 0, 0, 0.08);
      }

      .movie-content {
          padding: 18px 18px 24px 18px;
          margin: 0;
      }

      .movie-content-header, .movie-info {
          display: table;
          width: 100%;
      }

      .movie-title {
          font-size: 24px;
          margin: 0;
          display: table-cell;
      }

      .logo {
          width: 50px;
          height: 50px;
          background: no-repeat;
          background-size: contain;
          display: table-cell;
          float: left;
          position: relative;
          margin-top: 5px;
      }


      .movie-info {
          margin-top: 1em;
      }

      .info-section {
          display: table-cell;
          text-transform: uppercase;
          text-align: center;
      }

          .info-section:first-of-type {
              text-align: left;
          }

          .info-section:last-of-type {
              text-align: right;
          }

          .info-section label {
              display: block;
              color: rgba(0, 0, 0, 0.5);
              margin-bottom: .5em;
              font-size: 9px;
          }

          .info-section span {
              font-weight: 700;
              font-size: 11px;
          }

      .tag {
          font-family: 'Arimo', Arial, sans-serif;
          background-color: lightblue;
          border-radius: 10px;
          padding: 3px 9px;
          margin-left: 5px;
          font-size: 13px;
          /*margin-right: 4px;
          line-height: 35px;*/
          cursor: pointer;
      }

          .tag:hover {
              background: #ddd;
          }

      @@media screen and (max-width: 500px) {
          .movie-card {
              width: 95%;
              max-width: 95%;
              margin: 1em;
              display: block;
          }

          .container {
              padding: 0;
              margin: 0;
          }
      }
</style>
<div class="row">
    @foreach (var item in Model)
    {
        <div class="movie-card">
            <div class="movie-header">
                <img src="@item.ImageURL" />
            </div><!--movie-header-->

            <div class="movie-content">
                <div class="movie-content-header">
                    <a href="#">
                        <h3 class="movie-title">@item.Name</h3>
                    </a>
                    <span class="tag">@item.MovieCategory</span>
                    @*<b>Status: </b>*@
                    @if (DateTime.Now >= item.StartDate && DateTime.Now <= item.EndDate)
                    {
                        <span class="badge bg-success text-white">Available</span>
                    }
                    else if (DateTime.Now > item.EndDate)
                    {
                        <span class="badge bg-danger text-white">Expired</span>
                    }
                    else
                    {
                        <span class="badge bg-primary text-white">Upcoming</span>
                    }
                    @*<div class="imax-logo"><img src="@item.Cinema.Logo"/></div>*@
                </div>
                <div class="movie-info">
                    <div class="info-section">
                        @*<label>Açıklama</label>*@
                        <img class="logo" src="@item.Cinema.Logo" />
                        @*<span>@item.Cinema.Name</span>*@
                    </div><!--Description-->
                    <br />
                    <div class="info-section">
                        <label>Başlangıç</label>
                        <span>@item.StartDate.ToString("dd MMM yy")</span>
                    </div><!--StartDate-->
                    <div class="info-section">
                        <label>Bitiş</label>
                        <span>@item.EndDate.ToString("dd MMM yy")</span>
                    </div><!--EndDate-->
                </div>
                <div class="info-section">
                    <p class="card-text text-center">
                        <a class="btn btn-outline-primary mt-2 mb-2" type="button" asp-action="Details" asp-route-id="@item.Id">
                            <i class="bi bi-eye-fill"></i> Show Details
                        </a>
                        <a class="btn btn-success text-white @((DateTime.Now > item.EndDate) ? "disabled" : "")" type="button"
                           asp-controller="Orders"
                           asp-action="AddItemToShoppingCart"
                           asp-route-id="@item.Id">
                            <i class="bi bi-cart-plus"></i> Add to Cart (Price @item.Price.ToString("c"))
                        </a>
                    </p>
                </div>
            </div><!--movie-content-->
        </div><!--movie-card-->

    }
</div>

@await Html.PartialAsync("_CreateItem", "Movies")
